# ============================================================================
# CLOUDFLARE PAGES DEPLOY COMMAND CONFIGURATION
# ============================================================================
#
# IMPORTANT: This repository now includes a root wrangler.toml file
#
# ============================================================================
# WHY wrangler.toml EXISTS IN ROOT:
# ============================================================================
#
# Cloudflare Pages dashboard has a "deploy command" configured that runs
# "npx wrangler deploy" after the build completes. This cannot be easily
# removed from the dashboard UI in some cases.
#
# To prevent the "Missing entry-point to Worker script" error, we provide
# a wrangler.toml configuration that:
# 1. Deploys static assets from the dist/ directory
# 2. Uses name "qcv2" (Pages project name)
# 3. Does NOT conflict with authentiqc-worker
#
# ============================================================================
# DEPLOYMENT ARCHITECTURE:
# ============================================================================
#
# TWO SEPARATE DEPLOYMENTS:
#
# 1. PAGES (Frontend):
#    - Name: qcv2
#    - Config: /wrangler.toml (this file's purpose)
#    - Content: Static assets from dist/
#    - URL: https://qcv2.pages.dev
#    - Deployment: GitHub Actions OR Cloudflare Pages dashboard
#
# 2. WORKER (Image Proxy API):
#    - Name: authentiqc-worker
#    - Config: /cloudflare-worker/wrangler.toml
#    - Content: JavaScript Worker code (index.mjs)
#    - URL: https://authentiqc-worker.adwate.workers.dev
#    - Deployment: GitHub Actions only (must run from cloudflare-worker/ dir)
#
# ============================================================================
# CORRECT DEPLOYMENT METHODS:
# ============================================================================
#
# FOR PAGES (Frontend):
#   METHOD 1 (Recommended): GitHub Actions
#     - Workflow: .github/workflows/deploy.yml
#     - Uses: cloudflare/pages-action@v1
#     - Deploys: dist/ directory as Pages project
#
#   METHOD 2 (Fallback): Cloudflare Pages Dashboard
#     - Build command: npm run build
#     - Deploy command: npx wrangler deploy (uses root wrangler.toml)
#     - Deploys: Using assets configuration in wrangler.toml
#
# FOR WORKER (Image Proxy API):
#   METHOD 1 (Only supported): GitHub Actions
#     - Workflow: .github/workflows/deploy-worker.yml
#     - Command: cd cloudflare-worker && npx wrangler@4 deploy
#     - Config: cloudflare-worker/wrangler.toml
#
# ============================================================================
# WHAT CHANGED:
# ============================================================================
#
# BEFORE:
# - No wrangler.toml in root
# - Cloudflare Pages deploy command would fail with "Missing entry-point"
# - Users had to manually remove deploy command from dashboard
#
# AFTER:
# - wrangler.toml exists in root with assets configuration
# - Cloudflare Pages deploy command works correctly
# - Deploys static assets from dist/ directory
# - No conflict with worker deployment (different names)
#
# ============================================================================
